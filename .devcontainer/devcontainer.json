{
    "name": "Teaclave Java Benchmark",
    "build": {
        "dockerfile": "Dockerfile",
        "context": "..",
        "args": {
            "REMOTE_USER": "dev",
            "REMOTE_UID": "1010",
            "REMOTE_GID": "1010",
            "NODE_VERSION": "16.20.2",
            "NEOVIM_VERSION": "0.11.4",
            "GIT_EMAIL": "lucadibello@proton.me",
            "GIT_NAME": "Luca Di Bello" 
        }
    },
    "remoteUser": "dev",
    "runArgs": [
        "--name=teaclave-java-benchmark",
        "--privileged",
        "--device=/dev/sgx_enclave:/dev/sgx/enclave",
        "--device=/dev/sgx_provision:/dev/sgx/provision",
        "--device=/dev/sgx_vepc:/dev/sgx/vepc",
        "--publish",
        "127.0.0.1:2222:2222",
        "--publish",
        "127.0.0.1:6666:6666"
    ],
    "overrideCommand": true,
    "forwardPorts": [2222],
    "mounts": ["source=${localEnv:SSH_AUTH_SOCK},target=/ssh-agent,type=bind"],
    "containerEnv": {
        "SSH_AUTH_SOCK": "/ssh-agent",
        "NVIM_LISTEN_ADDRESS": "0.0.0.0:6666"
    },
    "postCreateCommand": "cd teaclave && mvn -DskipTests install && mvn dependency:go-offline"
}
